---
import "../styles/global.css";
import Footer from "../components/Footer.astro";
import SettingsButton from "../components/SettingsButton.astro";
import SettingsModal from "../components/SettingsModal.astro";
const order = Astro.url.searchParams.get('order')
---
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width"/>
    <link rel="icon" type="image/svg+xml" href="/favicon.ico"/>
    <meta name="generator" content={Astro.generator}/>
    <link rel="stylesheet" href="/css/minecraft.css">
    <title>Minecraft Minute</title>
</head>
<body class="w-full bg-block-dirt bg-repeat">
<header class="relative">
    <div class="h-1-block w-full bg-block-grass-side bg-repeat-x"/>
    <img src="/imgs/mm-header.png" alt="logo" class="absolute top-0 left-1/2 transform -translate-x-1/2 h-1-block"/>
    <div class="absolute top-1-block left-1-block">
        <a href={`/?${order ? `order=${order}&` : ''}embed=true`}
           class="experimental-button font-minecraft text-shadow hidden sm:flex items-center gap-2">
            <span>Experimental</span>
        </a>
    </div>
    <div class="absolute top-1-block right-1-block">
        <SettingsButton/>
    </div>
    <SettingsModal/>
</header>
<main class="mt-3-block z-10">
    <slot/>
</main>
<Footer/>
</body>
</html>

<style>
    html,
    body {
        margin: 0;
        width: 100%;
        height: 100%;
    }

    @keyframes pulse-color {
        0% { color: white; }
        50% { color: #fef08a; }
        100% { color: white; }
    }

    .experimental-button {
        padding: 0.25rem 0.5rem;
        transition: all 0.2s ease;
        cursor: pointer;
        background-size: cover;
        background-image: url('/imgs/ui/button-inside.png');
        border-width: 2px;
        border-style: solid;
        border-image: url('/imgs/ui/button-border.png');
        border-image-width: 2px;
        border-image-slice: 10% 3%;
        border-image-repeat: stretch;
        color: white;
        text-decoration: none;
        transform: rotate(-30deg);
        animation: pulse-color 2s infinite;
        display: inline-block;
    }

    .experimental-button:hover {
        background-image: url('/imgs/ui/button-inside-hover.png');
        background-size: cover;
        color: #fef08a;
        border-width: 2px;
        border-style: solid;
        border-image: url('/imgs/ui/button-border-hover.png');
        border-image-width: 2px;
        border-image-slice: 10% 3%;
        border-image-repeat: stretch;
        text-decoration: none;
        animation: none;
    }
</style>
